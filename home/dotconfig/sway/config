font pango: "Terminus" "10"

output eDP resolution 1920x1080 position 1920,0
output * bg "/home/shrek/.local/share/wallpapers/powerlines.jpg" fill

set {
	$mod Mod4

	$wall1	/home/shrek/.local/share/wallpapers/powerlines.jpg
	$wall2 /home/shrek/.local/share/wallpapers/lewd_two_nekos.jpg
	
	$left h
	$down j
	$up k
	$right l

	$term konsole #alacritty #foot
	$term2 alacritty
}

for_window [app_id="^launcher$"] floating enable, sticky enable, resize set 30 ppt 60 ppt, border pixel 10
set $menu exec konsole -e /usr/bin/sway-launcher-desktop
#set $menu exec $term2 --class=launcher -e /usr/bin/sway-launcher-desktop

exec swayidle -w \
	timeout 300 'swaylock -f -c 000000' \
	timeout 600 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
	before-sleep 'swaylock -f -c 000000'\
	before-sleep 'playerctl pause'

input * {
    xkb_layout us,ru
    xkb_options grp:alt_shift_toggle
	xkb_model "pc101"
	repeat_delay 250
	repeat_rate 35
}

#swaymsg -t get_inputs to show devices

input 1267:12610:ELAN0515:00_04F3:3142_Touchpad { 
    natural_scroll enabled
	middle_emulation enabled
    dwt enabled
    tap enabled
}

floating_modifier $mod normal

bindsym --to-code {
	$mod+d exec $menu
	
	$mod+Return exec $term
	$mod+q kill
	
	$mod+Shift+c reload
	$mod+Shift+e exec swaynag -t warning -m 'Exit sway?' -b 'UwU' 'swaymsg exit' -b 'Poweroff' 'poweroff'  -b 'Reboot' 'reboot' --background A0A0A0A0

	$mod+$left focus left
	$mod+$down focus down
	$mod+$up focus up
	$mod+$right focus right
	$mod+Left focus left
	$mod+Down focus down
	$mod+Up focus up
	$mod+Right focus right

	$mod+Shift+$left move left
	$mod+Shift+$down move down
	$mod+Shift+$up move up
	$mod+Shift+$right move right
	$mod+Shift+Left move left
	$mod+Shift+Down move down
	$mod+Shift+Up move up
	$mod+Shift+Right move right

	$mod+1 workspace number 1
	$mod+2 workspace number 2
	$mod+3 workspace number 3
	$mod+4 workspace number 4
	$mod+5 workspace number 5
	$mod+6 workspace number 6
	$mod+7 workspace number 7
	$mod+8 workspace number 8
	$mod+9 exec swaymsg workspace 9 & swaymsg output "*" background $wall1 fill
	$mod+0 exec swaymsg workspace 10 & swaymsg output "*" background $wall2 fill

	$mod+Shift+1 move container to workspace number 1
	$mod+Shift+2 move container to workspace number 2
	$mod+Shift+3 move container to workspace number 3
	$mod+Shift+4 move container to workspace number 4
	$mod+Shift+5 move container to workspace number 5
	$mod+Shift+6 move container to workspace number 6
	$mod+Shift+7 move container to workspace number 7
	$mod+Shift+8 move container to workspace number 8
	$mod+Shift+9 move container to workspace number 9
	$mod+Shift+0 move container to workspace number 10

	$mod+b splith
	$mod+v splitv

	$mod+s layout stacking
	$mod+w layout tabbed
	$mod+e layout toggle split

	$mod+f fullscreen
	$mod+Shift+space floating toggle
	$mod+space focus mode_toggle
	$mod+a focus parent

	$mod+Shift+minus move scratchpad
	$mod+minus scratchpad show

	$mod+r mode "resize"

	XF86AudioRaiseVolume exec peep && pactl set-sink-volume @DEFAULT_SINK@ +5%
	XF86AudioLowerVolume exec peep && pactl set-sink-volume @DEFAULT_SINK@ -5%
	XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
	XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
	$mod+f9 exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
	XF86MonBrightnessDown exec brightnessctl set 5%- -d acpi_video0 #&& brightnessctl set 5%- -d amdgpu_bl1
	XF86MonBrightnessUp exec brightnessctl set 5%+ -d acpi_video0 #&& brightnessctl set 5%+ -d amdgpu_bl1
	XF86AudioPlay exec playerctl play-pause
	XF86AudioNext exec playerctl next
	XF86AudioPrev exec playerctl previous
	XF86Search exec $menu
	XF86AudioStop exec playerctl stop
	XF86RFKill exec rfkill toggle all
	Super_L+p exec azote

	$mod+Print exec grimshot save
	$mod+ctrl+Print exec grimshot save area
	Print exec grimshot copy
	ctrl+Print exec grimshot copy area

	alt+f2 exec krunner
	$mod+m exec ibus-ui-emojier-plasma
	ctrl+alt+t exec $term2
}

mode "resize" {
    bindsym --to-code {
    	$left resize shrink width 20px
		$down resize grow height 30px
		$up resize shrink height 30px
		$right resize grow width 30px
		Left resize shrink width 30px
		Down resize grow height 30px
		Up resize shrink height 30px
		Right resize grow width 30px
		Return mode "default"
		Escape mode "default"
	}
}

bar {
    position top
	swaybar_command waybar
	workspace_buttons yes
}

gaps inner 8
gaps outer 4
smart_gaps on
default_border pixel 2
for_window [tiling] border pixel 2
smart_borders on

for_window [app_id="konsole"] floating enable
for_window [app_id="dolphin"] floating enable
for_window [app_id="copyq"] floating enable

#for_window [app_id="chromium"] inhibit_idle fullscreen
#for_window [app_id="firefox"] inhibit_idle fullscreen
#for_window [app_id="firefox-developer-edition"] inhibit_idle fullscreen

#Caution! Locale specific:
for_window [title="Панель выбора эмодзи"] floating enable

set $gnome-schema org.gnome.desktop.interface
exec_always {
	gsettings set $gnome-schema gtk-theme 'Breeze'
	gsettings set $gnome-schema icon-theme 'Breeze Dark'
	gsettings set $gnome-schema cursor-theme 'Breeze'
	gsettings set $gnome-schema font-name 'JetBrainsMono Nerd Font'
}

seat seat0 xcursor_theme Fluent-cursors 24
exec_always gsettings set org.gnome.desktop.interface cursor-theme "Fluent-cursors"

client.focused 				#d1d9ec #d1d9ec #d1d9ec #d1d9ec
client.focused_inactive		#535d6c #535d6c #535d6c #535d6c
client.unfocused			#535d6c #535d6c #535d6c #535d6c
client.urgent				#d1d9ec #d1d9ec #d1d9ec #d1d9ec
client.placeholder			#d1d9ec #d1d9ec #d1d9ec #d1d9ec

floating_modifier $mod normal

include /etc/sway/config.d/*

exec mako
exec copyq --start-server

###############################################################33

#set $laptop <laptop_output_identifier>
#bindswitch --reload --locked lid:on output $laptop disable
#bindswitch --reload --locked lid:off output $laptop enable

#0:0:Acer_WMI_hotkeys
#0:3:Sleep_Button
#0:1:Power_Button
#0:5:Lid_Switch

#xwayland disable
#font pango: "JetBrainsMono Nerd Font" "10"

#set $menu bemenu-run --scrollbar always -ifnb | xargs swaymsg exec --

#set $menu wofi --show=drun | xargs swaymsg exec -

#todo: seats, bindswitch